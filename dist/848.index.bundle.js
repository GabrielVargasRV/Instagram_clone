(self.webpackChunkwhatsappv2=self.webpackChunkwhatsappv2||[]).push([[848],{6848:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(2137),a=n(6156),l=n(4699),c=n(7757),o=n.n(c),u=n(7294),s=n(4494),m=n(2051),i=n(5977);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const h=(0,s.$j)((function(e){return{user:e.user}}),(function(e){return{setUserData:function(t){e({type:"SET_USERDATA",userData:t})}}}))((function(e){var t=e.user,n=e.setUserData,c=(0,i.k6)(),s=(0,u.useState)({name:"",username:"",bio:"",gender:"male"}),p=(0,l.Z)(s,2),h=p[0],b=p[1],E=function(e){b(f(f({},h),{},(0,a.Z)({},e.target.name,e.target.value)))},d=function(){var e=(0,r.Z)(o().mark((function e(r){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!(h.name.length>5&&h.username.length>5&&h.gender.length)){e.next=13;break}return e.next=4,m.db.collection("userData").where("username","==",h.username).get();case 4:if(!e.sent.docs.length){e.next=7;break}return e.abrupt("return",alert("This username already exists, try with another one"));case 7:return a=f(f({},h),t),e.next=10,m.db.collection("userData").doc(t.uid).set(a);case 10:getUserData(t.uid).then((function(e){n(e),c.push("/home")})),e.next=14;break;case 13:alert("Please fill the info");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u.createElement("div",{className:"complete-info"},t?u.createElement("div",null,u.createElement("div",{className:"complete-info_header"},u.createElement("img",{src:t.photoURL,alt:""}),u.createElement("p",null,t.email)),u.createElement("form",{onSubmit:d},u.createElement("label",{htmlFor:""},u.createElement("p",null,"Name"),u.createElement("input",{type:"text",name:"name",value:h.name,onChange:E})),u.createElement("label",{htmlFor:""},u.createElement("p",null,"Username"),u.createElement("input",{type:"text",name:"username",value:h.username,onChange:E})),u.createElement("label",{htmlFor:""},u.createElement("p",null,"Bio"),u.createElement("textarea",{cols:"30",name:"bio",value:h.bio,onChange:E,placeholder:"(optional)"})),u.createElement("label",{htmlFor:""},u.createElement("p",null,"Gender"),u.createElement("select",{name:"gender",value:h.gender,onChange:E},u.createElement("option",{value:"male"},"male"),u.createElement("option",{value:"female"},"female"))),u.createElement("button",{type:"submit"},"Save"))):u.createElement("div",null,"User Not Found"))}))}}]);